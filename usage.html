<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Usage &mdash; MetaGenePipe 1.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Extension" href="extension.html" />
    <link rel="prev" title="Workflow" href="workflow.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> MetaGenePipe
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Workflow</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#setup-input-file">Setup input file</a></li>
<li class="toctree-l2"><a class="reference internal" href="#copy-files">Copy files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#java">Java</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run-pipeline">Run Pipeline</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extension.html">Extension</a></li>
<li class="toctree-l1"><a class="reference internal" href="citation.html">Citation and Attribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MetaGenePipe</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Usage</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/usage.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline"></a></h1>
<section id="setup-input-file">
<h2>Setup input file<a class="headerlink" href="#setup-input-file" title="Permalink to this headline"></a></h2>
<p>Open <code class="docutils literal notranslate"><span class="pre">input.txt</span></code> and update with your samples. The file format is as follows</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SampleID</span>    <span class="n">Read1FQ</span> <span class="n">Read2FQ</span>
</pre></div>
</div>
<p>For example, the first two lines of <code class="docutils literal notranslate"><span class="pre">input.txt</span></code> could be</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mockpos_S50</span>     <span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">cephfs</span><span class="o">/</span><span class="n">punim0256</span><span class="o">/</span><span class="n">gitlab</span><span class="o">/</span><span class="n">metaGenePipe</span><span class="o">/</span><span class="n">metaGenePipe</span><span class="o">/</span><span class="n">fastqFiles</span><span class="o">/</span><span class="n">mockpos_S50_100k_R1</span><span class="o">.</span><span class="n">fasta</span>    <span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">cephfs</span><span class="o">/</span><span class="n">punim0256</span><span class="o">/</span><span class="n">gitlab</span><span class="o">/</span><span class="n">metaGenePipe</span><span class="o">/</span><span class="n">metaGenePipe</span><span class="o">/</span><span class="n">fastqFiles</span><span class="o">/</span><span class="n">mockpos_S50_100k_R2</span><span class="o">.</span><span class="n">fasta</span>
<span class="n">mockpos_S52</span>     <span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">cephfs</span><span class="o">/</span><span class="n">punim0256</span><span class="o">/</span><span class="n">gitlab</span><span class="o">/</span><span class="n">metaGenePipe</span><span class="o">/</span><span class="n">metaGenePipe</span><span class="o">/</span><span class="n">fastqFiles</span><span class="o">/</span><span class="n">mockpos_S52_100k_R1</span><span class="o">.</span><span class="n">fastq</span>    <span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">cephfs</span><span class="o">/</span><span class="n">punim0256</span><span class="o">/</span><span class="n">gitlab</span><span class="o">/</span><span class="n">metaGenePipe</span><span class="o">/</span><span class="n">metaGenePipe</span><span class="o">/</span><span class="n">fastqFiles</span><span class="o">/</span><span class="n">mockpos_S52_100k_R2</span><span class="o">.</span><span class="n">fastq</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The spaces between the sampleID and reads are tabs. There can be no whitespaces at the end of each line or else the pipeline will fail. Use the complete path to the files to avoid any missed files.**</p>
</div>
</section>
<section id="copy-files">
<h2>Copy files<a class="headerlink" href="#copy-files" title="Permalink to this headline"></a></h2>
<p>Copy your sample files to the path you used in the input.txt file. There is a folder called “fastqFiles” which can be used.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bash:~$ cp *.fastq &lt;metagenepipe_path&gt;/fastqFiles/
</pre></div>
</div>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline"></a></h2>
<p>Edit metaGenePipe.json (config file) and update the workingDir variable to reflect your working directory.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>

<span class="w">  </span><span class="nt">&quot;##_GLBOAL_VARS#&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;global&quot;</span><span class="p">,</span><span class="w"></span>

<span class="w">  </span><span class="nt">&quot;metaGenPipe.workingDir&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/data/cephfs/punim0256/MGP_ComEnc_011119/&quot;</span><span class="p">,</span><span class="w"></span>

<span class="w">  </span><span class="nt">&quot;metaGenPipe.outputDir&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;output&quot;</span><span class="p">,</span><span class="w"></span>

<span class="w">  </span><span class="nt">&quot;metaGenPipe.inputSamplesFile&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;input.txt&quot;</span><span class="p">,</span><span class="w"></span>

<span class="w">  </span><span class="nt">&quot;metaGenPipe.outputFileName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;geneCountTable.txt&quot;</span><span class="p">,</span><span class="w"></span>

<span class="w">  </span><span class="nt">&quot;metaGenPipe.kolist&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ko.sorted.txt&quot;</span><span class="p">,</span><span class="w"></span>

<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Change all paths to reflect where you are running the pipeline and change create the output directory you set in the config above **</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The working directory you set has to be the directory you cloned the repository into**</p>
</div>
</section>
<section id="java">
<h2>Java<a class="headerlink" href="#java" title="Permalink to this headline"></a></h2>
<p>Ensure that Java is installed. Since this pipeline is made to only be run on the UniMelb cluster, Spartan, Java is already installed. To load Java, you can use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bash:~$ module load Java
</pre></div>
</div>
</section>
<section id="run-pipeline">
<h2>Run Pipeline<a class="headerlink" href="#run-pipeline" title="Permalink to this headline"></a></h2>
<p>To run the pipeline use the command below in the directory where the cromwell jar file is found.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Before running the pipeline change the cromslurm.conf file to reflect the correct partition you have permission to submit to**</p>
</div>
<p>### the line you have change is: String rt_queue = “mig-gpu”</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bash:~$ java -Dconfig.file<span class="o">=</span>./cromslurm.conf -jar cromwell-45.1.jar run metaGenPipe.wdl -i metaGenPipe.json
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="workflow.html" class="btn btn-neutral float-left" title="Workflow" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="extension.html" class="btn btn-neutral float-right" title="Extension" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Babak Shaban, Maria del Mar Quiroga, Edoardo Tescari, Robert Turnbull, Heroen Verbruggen, Kim-Anh Lê Cao.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>